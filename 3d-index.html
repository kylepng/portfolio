<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kyle | 3D Desktop</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Cdefs%3E%3ClinearGradient id='r' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23ff5f5f'/%3E%3Cstop offset='100%25' stop-color='%23cc0000'/%3E%3C/linearGradient%3E%3ClinearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%2355ff55'/%3E%3Cstop offset='100%25' stop-color='%2300aa00'/%3E%3C/linearGradient%3E%3ClinearGradient id='b' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%235599ff'/%3E%3Cstop offset='100%25' stop-color='%230044cc'/%3E%3C/linearGradient%3E%3ClinearGradient id='y' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23ffee55'/%3E%3Cstop offset='100%25' stop-color='%23ccaa00'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect x='2' y='2' width='13' height='13' rx='2' fill='url(%23r)'/%3E%3Crect x='17' y='2' width='13' height='13' rx='2' fill='url(%23g)'/%3E%3Crect x='2' y='17' width='13' height='13' rx='2' fill='url(%23b)'/%3E%3Crect x='17' y='17' width='13' height='13' rx='2' fill='url(%23y)'/%3E%3C/svg%3E">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      overflow: hidden;
      background: #1a1a2e;
      font-family: 'Tahoma', sans-serif;
    }

    #scene-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }

    /* Info panel */
    .info-panel {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 100;
      color: #fff;
      font-size: 14px;
      background: rgba(0,0,0,0.7);
      padding: 15px 20px;
      border-radius: 5px;
      font-family: 'Courier New', monospace;
    }

    .info-panel h1 {
      font-size: 18px;
      margin-bottom: 5px;
      color: #00ff00;
    }

    .info-panel p {
      color: #aaa;
      font-size: 12px;
    }

    .info-panel .time {
      font-size: 24px;
      color: #fff;
      margin-top: 10px;
      font-family: monospace;
    }

    /* Controls hint */
    .controls-hint {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 100;
      color: #888;
      font-size: 12px;
      background: rgba(0,0,0,0.5);
      padding: 10px 20px;
      border-radius: 5px;
    }

    /* Enter desktop button */
    .enter-btn {
      position: fixed;
      bottom: 80px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 100;
      background: linear-gradient(180deg, #3a9431 0%, #2d7a28 100%);
      color: #fff;
      border: 2px solid #1e5a1a;
      padding: 15px 40px;
      font-size: 16px;
      font-weight: bold;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Tahoma', sans-serif;
      box-shadow: 0 4px 15px rgba(0,0,0,0.4);
      transition: all 0.2s;
    }

    .enter-btn:hover {
      background: linear-gradient(180deg, #4aab3e 0%, #3d9a35 100%);
      transform: translateX(-50%) scale(1.05);
    }

    /* Fullscreen desktop mode */
    .desktop-fullscreen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1000;
      display: none;
    }

    .desktop-fullscreen.active {
      display: block;
    }

    .desktop-fullscreen iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    /* Back button when in desktop mode */
    .back-btn {
      position: fixed;
      top: 10px;
      right: 10px;
      z-index: 1001;
      background: rgba(0,0,0,0.8);
      color: #fff;
      border: 1px solid #444;
      padding: 8px 15px;
      font-size: 12px;
      cursor: pointer;
      border-radius: 3px;
      display: none;
    }

    .back-btn.active {
      display: block;
    }

    /* CRT screen glow effect */
    .crt-glow {
      position: absolute;
      pointer-events: none;
      box-shadow:
        0 0 20px rgba(0, 255, 0, 0.1),
        inset 0 0 60px rgba(0, 0, 0, 0.3);
    }
  </style>
</head>
<body>
  <!-- 3D Scene -->
  <div id="scene-container"></div>

  <!-- Info Panel -->
  <div class="info-panel">
    <h1>Kyle Kumar</h1>
    <p>Developer</p>
    <div class="time" id="clock">00:00:00</div>
  </div>

  <!-- Controls hint -->
  <div class="controls-hint">
    üñ±Ô∏è Drag to rotate ‚Ä¢ Scroll to zoom ‚Ä¢ Click "Enter Desktop" to interact
  </div>

  <!-- Enter button -->
  <button class="enter-btn" onclick="enterDesktop()">‚ñ∂ Enter Desktop</button>

  <!-- Fullscreen desktop overlay -->
  <div class="desktop-fullscreen" id="desktop-fullscreen">
    <iframe src="index.html" id="desktop-iframe"></iframe>
  </div>

  <!-- Back button -->
  <button class="back-btn" id="back-btn" onclick="exitDesktop()">‚Üê Back to 3D View</button>

  <script>
    // Clock
    function updateClock() {
      const now = new Date();
      const time = now.toLocaleTimeString('en-US', { hour12: false });
      document.getElementById('clock').textContent = time;
    }
    setInterval(updateClock, 1000);
    updateClock();

    // Three.js Scene
    let scene, camera, renderer, controls;
    let monitor, desk, keyboard;

    function init() {
      // Scene
      scene = new THREE.Scene();
      scene.background = new THREE.Color(0x87CEEB); // Sky blue

      // Camera
      camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
      camera.position.set(0, 2, 4);

      // Renderer
      renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.shadowMap.enabled = true;
      renderer.shadowMap.type = THREE.PCFSoftShadowMap;
      document.getElementById('scene-container').appendChild(renderer.domElement);

      // Controls
      controls = new THREE.OrbitControls(camera, renderer.domElement);
      controls.enableDamping = true;
      controls.dampingFactor = 0.05;
      controls.minDistance = 2;
      controls.maxDistance = 10;
      controls.maxPolarAngle = Math.PI / 2;
      controls.target.set(0, 1, 0);

      // Lighting
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
      scene.add(ambientLight);

      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
      directionalLight.position.set(5, 10, 5);
      directionalLight.castShadow = true;
      directionalLight.shadow.mapSize.width = 2048;
      directionalLight.shadow.mapSize.height = 2048;
      scene.add(directionalLight);

      // Create room/environment
      createRoom();

      // Create desk
      createDesk();

      // Create CRT Monitor
      createMonitor();

      // Create keyboard
      createKeyboard();

      // Create mouse
      createMouse();

      // Create decorations
      createDecorations();

      // Start animation
      animate();
    }

    function createRoom() {
      // Floor
      const floorGeometry = new THREE.PlaneGeometry(20, 20);
      const floorMaterial = new THREE.MeshStandardMaterial({
        color: 0x8B7355,
        roughness: 0.8
      });
      const floor = new THREE.Mesh(floorGeometry, floorMaterial);
      floor.rotation.x = -Math.PI / 2;
      floor.position.y = -0.5;
      floor.receiveShadow = true;
      scene.add(floor);

      // Back wall
      const wallGeometry = new THREE.PlaneGeometry(20, 10);
      const wallMaterial = new THREE.MeshStandardMaterial({
        color: 0xE8E0D5,
        roughness: 0.9
      });
      const backWall = new THREE.Mesh(wallGeometry, wallMaterial);
      backWall.position.set(0, 4.5, -5);
      backWall.receiveShadow = true;
      scene.add(backWall);
    }

    function createDesk() {
      // Desk top
      const deskTopGeometry = new THREE.BoxGeometry(3, 0.08, 1.5);
      const deskMaterial = new THREE.MeshStandardMaterial({
        color: 0x5C4033,
        roughness: 0.7
      });
      const deskTop = new THREE.Mesh(deskTopGeometry, deskMaterial);
      deskTop.position.set(0, 0.5, 0);
      deskTop.castShadow = true;
      deskTop.receiveShadow = true;
      scene.add(deskTop);

      // Desk legs
      const legGeometry = new THREE.BoxGeometry(0.1, 1, 0.1);
      const legPositions = [
        [-1.4, 0, -0.65],
        [1.4, 0, -0.65],
        [-1.4, 0, 0.65],
        [1.4, 0, 0.65]
      ];

      legPositions.forEach(pos => {
        const leg = new THREE.Mesh(legGeometry, deskMaterial);
        leg.position.set(pos[0], pos[1], pos[2]);
        leg.castShadow = true;
        scene.add(leg);
      });
    }

    function createMonitor() {
      // CRT Monitor body (beige/cream color like old computers)
      const monitorColor = 0xD4C5A9;

      // Main monitor body
      const bodyGeometry = new THREE.BoxGeometry(1.2, 1, 1);
      const bodyMaterial = new THREE.MeshStandardMaterial({
        color: monitorColor,
        roughness: 0.6
      });
      const body = new THREE.Mesh(bodyGeometry, bodyMaterial);
      body.position.set(0, 1.1, -0.2);
      body.castShadow = true;
      scene.add(body);

      // Screen bezel
      const bezelGeometry = new THREE.BoxGeometry(1.0, 0.8, 0.05);
      const bezelMaterial = new THREE.MeshStandardMaterial({
        color: 0x2a2a2a,
        roughness: 0.3
      });
      const bezel = new THREE.Mesh(bezelGeometry, bezelMaterial);
      bezel.position.set(0, 1.15, 0.33);
      scene.add(bezel);

      // Screen (will show XP desktop texture)
      const screenGeometry = new THREE.PlaneGeometry(0.9, 0.68);

      // Load XP desktop as texture (screenshot or render)
      const canvas = document.createElement('canvas');
      canvas.width = 1024;
      canvas.height = 768;
      const ctx = canvas.getContext('2d');

      // Draw XP-like background
      const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
      gradient.addColorStop(0, '#245EDC');
      gradient.addColorStop(0.5, '#3A7BD5');
      gradient.addColorStop(1, '#1E90FF');
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // Draw green hill
      ctx.fillStyle = '#3CB043';
      ctx.beginPath();
      ctx.moveTo(0, canvas.height);
      ctx.quadraticCurveTo(canvas.width/2, canvas.height * 0.4, canvas.width, canvas.height);
      ctx.fill();

      // Draw some white clouds
      ctx.fillStyle = 'rgba(255,255,255,0.8)';
      [[200, 150], [500, 100], [750, 180]].forEach(([x, y]) => {
        ctx.beginPath();
        ctx.arc(x, y, 40, 0, Math.PI * 2);
        ctx.arc(x + 30, y - 10, 35, 0, Math.PI * 2);
        ctx.arc(x + 60, y, 40, 0, Math.PI * 2);
        ctx.fill();
      });

      // Text
      ctx.fillStyle = '#fff';
      ctx.font = 'bold 48px Tahoma';
      ctx.textAlign = 'center';
      ctx.fillText('Kyle\'s Desktop', canvas.width/2, canvas.height/2);
      ctx.font = '24px Tahoma';
      ctx.fillText('Click "Enter Desktop" to interact', canvas.width/2, canvas.height/2 + 50);

      const screenTexture = new THREE.CanvasTexture(canvas);
      const screenMaterial = new THREE.MeshBasicMaterial({
        map: screenTexture,
        emissive: 0x111111,
        emissiveIntensity: 0.2
      });
      const screen = new THREE.Mesh(screenGeometry, screenMaterial);
      screen.position.set(0, 1.15, 0.36);
      scene.add(screen);

      // Monitor stand
      const standGeometry = new THREE.BoxGeometry(0.4, 0.15, 0.5);
      const stand = new THREE.Mesh(standGeometry, bodyMaterial);
      stand.position.set(0, 0.58, -0.2);
      stand.castShadow = true;
      scene.add(stand);

      // Monitor base
      const baseGeometry = new THREE.BoxGeometry(0.6, 0.05, 0.4);
      const base = new THREE.Mesh(baseGeometry, bodyMaterial);
      base.position.set(0, 0.52, -0.1);
      base.castShadow = true;
      scene.add(base);
    }

    function createKeyboard() {
      const kbColor = 0xD4C5A9;

      // Keyboard body
      const kbGeometry = new THREE.BoxGeometry(0.6, 0.03, 0.2);
      const kbMaterial = new THREE.MeshStandardMaterial({
        color: kbColor,
        roughness: 0.5
      });
      const kb = new THREE.Mesh(kbGeometry, kbMaterial);
      kb.position.set(0, 0.56, 0.45);
      kb.castShadow = true;
      scene.add(kb);

      // Key rows (simplified)
      const keyMaterial = new THREE.MeshStandardMaterial({
        color: 0x888888,
        roughness: 0.4
      });

      for (let row = 0; row < 4; row++) {
        for (let col = 0; col < 12; col++) {
          const keyGeometry = new THREE.BoxGeometry(0.04, 0.015, 0.04);
          const key = new THREE.Mesh(keyGeometry, keyMaterial);
          key.position.set(
            -0.25 + col * 0.045,
            0.58,
            0.38 + row * 0.045
          );
          scene.add(key);
        }
      }
    }

    function createMouse() {
      const mouseColor = 0xD4C5A9;

      // Mouse body
      const mouseGeometry = new THREE.BoxGeometry(0.06, 0.025, 0.1);
      const mouseMaterial = new THREE.MeshStandardMaterial({
        color: mouseColor,
        roughness: 0.5
      });
      const mouse = new THREE.Mesh(mouseGeometry, mouseMaterial);
      mouse.position.set(0.5, 0.55, 0.45);
      mouse.castShadow = true;
      scene.add(mouse);

      // Mouse cable
      const cableGeometry = new THREE.CylinderGeometry(0.005, 0.005, 0.3, 8);
      const cableMaterial = new THREE.MeshStandardMaterial({ color: 0x333333 });
      const cable = new THREE.Mesh(cableGeometry, cableMaterial);
      cable.position.set(0.5, 0.54, 0.25);
      cable.rotation.x = Math.PI / 2;
      scene.add(cable);
    }

    function createDecorations() {
      // Plant pot
      const potGeometry = new THREE.CylinderGeometry(0.1, 0.08, 0.15, 8);
      const potMaterial = new THREE.MeshStandardMaterial({
        color: 0x8B4513,
        roughness: 0.8
      });
      const pot = new THREE.Mesh(potGeometry, potMaterial);
      pot.position.set(-1.2, 0.62, 0);
      pot.castShadow = true;
      scene.add(pot);

      // Plant leaves (simple cones)
      const leafMaterial = new THREE.MeshStandardMaterial({
        color: 0x228B22,
        roughness: 0.7
      });

      for (let i = 0; i < 5; i++) {
        const leafGeometry = new THREE.ConeGeometry(0.03, 0.2, 4);
        const leaf = new THREE.Mesh(leafGeometry, leafMaterial);
        const angle = (i / 5) * Math.PI * 2;
        leaf.position.set(
          -1.2 + Math.cos(angle) * 0.05,
          0.8,
          Math.sin(angle) * 0.05
        );
        leaf.rotation.x = 0.3 * Math.cos(angle);
        leaf.rotation.z = 0.3 * Math.sin(angle);
        scene.add(leaf);
      }

      // Coffee mug
      const mugGeometry = new THREE.CylinderGeometry(0.05, 0.04, 0.1, 16);
      const mugMaterial = new THREE.MeshStandardMaterial({
        color: 0xFFFFFF,
        roughness: 0.3
      });
      const mug = new THREE.Mesh(mugGeometry, mugMaterial);
      mug.position.set(1.1, 0.59, 0.3);
      mug.castShadow = true;
      scene.add(mug);

      // Coffee inside
      const coffeeGeometry = new THREE.CylinderGeometry(0.04, 0.04, 0.02, 16);
      const coffeeMaterial = new THREE.MeshStandardMaterial({
        color: 0x3C1810,
        roughness: 0.2
      });
      const coffee = new THREE.Mesh(coffeeGeometry, coffeeMaterial);
      coffee.position.set(1.1, 0.63, 0.3);
      scene.add(coffee);
    }

    function animate() {
      requestAnimationFrame(animate);
      controls.update();
      renderer.render(scene, camera);
    }

    function onWindowResize() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }

    window.addEventListener('resize', onWindowResize);

    // Desktop interaction
    function enterDesktop() {
      document.getElementById('desktop-fullscreen').classList.add('active');
      document.getElementById('back-btn').classList.add('active');
    }

    function exitDesktop() {
      document.getElementById('desktop-fullscreen').classList.remove('active');
      document.getElementById('back-btn').classList.remove('active');
    }

    // ESC to exit desktop
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        exitDesktop();
      }
    });

    // Initialize
    init();
  </script>
</body>
</html>
